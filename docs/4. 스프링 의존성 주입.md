# 의존성 주입 방법

- 테스트 코드가 아닌 일반 소스 코드에서는 Lombok의 `@RequiredArgsConstructor`를 사용한 생성자 주입을 권장한다.

## 스프링 생성자 주입

- 스프링에서는 3가지 의존성 주입 방법을 지원한다

  - 생성자 주입
  - 필드 주입
  - Setter 주입

- 이 중 생성자 주입을 권장한다.

  1. 순한 참조를 방지할 수 있다.
  2. final로 선언하여 불변성을 보장할 수 있다.
  3. 테스트를 작성하기 용이하다.

- 대부분의 빈들은 Spring이 직접 관리하는 싱글톤 객체로, 변하지 않기에 생성자 주입이 될때 불변성을 보장할 수 있도록 final 키워드를 사용하는 것이 좋다.

## Lombok을 활용한 주입

- Lombok의 `@RequiredArgsConstructor`를 사용하면 `final`이나 `@NonNull`인 필드값만 파라미터로 받는 생성자를 만들어준다.

  - 즉 Spring 생성자 주입시에 final 필드로 설정하고 `@RequiredArgsConstructor`를 사용하면 자동으로 생성자를 생성해 간단하게 빈을 주입할 수 있다.

- 또한 생성자가 1개 뿐일 때 Spring은 `@Autowired`를 생략해도 자동으로 주입해주기에 `@RequiredArgsConstructor`만 사용해도 된다.

# Reference

https://mangkyu.tistory.com/155

https://dev-coco.tistory.com/70
